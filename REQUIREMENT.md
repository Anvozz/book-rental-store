# BOOK RENTAL SHOP

### **ความต้องการระบบ**

1.  สามารถจัดการข้อมูลพื้นฐานของระบบได้
2.  สามารถให้ยืม คืนหนังสือได้ (ด้วยระบบบาร์โค๊ด)
3.  สามารถกำหนดอัตราค่าเช่า จำนวนวันให้เช่า และค่าปรับได้
4.  สามารถแสดงรายการข้อมูลหนังสือค้างส่ง หนังสือที่มีการเช่า หรือคืนได้
5.  สามารถลงทะเบียนหนังสือใหม่ได้
6.  สามารถจัดการข้อมูลหนังสือได้
7.  สามารถสรุปรายรับ รายจ่ายประจำวัน เดือน ปีตามลำดับได้
8.  สามารถจัดการบัญชีรายรับรายจ่ายได้
9.  สามารถแสดงรายการหนังสือ ที่มีความนิยมในขณะช่วงเวลานั้น ๆ ได้
10. สามารถทำการจองหนังสือผ่านออนไลน์ได้
11. สามารถออกรายงานได้

- 11.1 รายงานหนังสือค้างส่ง
- 11.2 รายงานหนังสือยอดนิยม
- 11.3 รายงานงานรายจ่าย
- 11.4 รายงานรายรับ

### **Development tool**

- Frontend
  - React
- Backend
  - Go
    - Fiber
- Utilities
  - PostgresSQL
  - Vscode

## ER DIAGRAM

![ER](/ERV1.PNG)

## API ENDPOINT

### Category Service

| Method | URI           | Description     |
| ------ | ------------- | --------------- |
| POST   | /category     | Create category |
| GET    | /category     | Get category    |
| PUT    | /category     | Update category |
| DELETE | /category/:id | Delete category |

### POST /category

Request

```json
{
  "name": "นิยายรัก"
}
```

Response

```json
{
  "message": "Create category successfully."
}
```

### GET /category

Response

```json
[
  {
    "id": "d20dbd4a-4d00-40e5-a478-652f728c5eb5",
    "name": "นิยายรัก"
  },
  {
    "id": "5888be67-5a77-448f-82a5-84183018652c",
    "name": "นิยายสิบสวน"
  }
]
```

### PUT /category

Request

```json
{
  "id": "0db-zxs-dxz",
  "name": "นิยายรัก"
}
```

Response

```json
{
  "message": "Update category successfully."
}
```

### DELETE /category/:id

Parameter

- id CategoryID

Response

```json
{
  "message": "Delete category successfully."
}
```

---

### User Service

| Method | URI        | Description    |
| ------ | ---------- | -------------- |
| POST   | /users     | Create user    |
| GET    | /users     | Get user       |
| PUT    | /users     | Update user    |
| DELETE | /users/:id | Delete user    |
| GET    | /users/:id | Get user by id |

### POST /users

Request

```json
{
  "name": "Wongsathorn Kanno",
  "email": "sankaapb1@gmail.com",
  "address": "22/1 Samphantamit R. Nangrong 31110",
  "tel": "0649453094"
}
```

Response

```json
{
  "message": "Create user successfully."
}
```

### GET /users

Response

```json
[
  {
    "id": "1",
    "name": "Wongsathorn Kanno",
    "email": "sankaapb1@gmail.com",
    "address": "22/1 Samphantamit R. Nangrong 31110",
    "tel": "0649453094",
    "status": 1
  },
  {
    "id": "2",
    "name": "Wongsathorn Kanno",
    "email": "sankaapb1@gmail.com",
    "address": "22/1 Samphantamit R. Nangrong 31110",
    "tel": "0649453094",
    "status": 2
  }
]
```

### PUT /users

Request

```json
{
  "id": "1",
  "name": "Wongsathorn Kanno",
  "email": "sankaapb1@gmail.com",
  "address": "22/1 Samphantamit R. Nangrong 31110",
  "tel": "0649453094",
  "status": true
}
```

Response

```json
{
  "message": "Update user successfully."
}
```

### DELETE /users/:id

Parameter

- id UserID

Response

```json
{
  "message": "Delete user successfully."
}
```

### GET /users/:id

Parameter

- id UserID

Response

```json
{
  "id": "1",
  "name": "Wongsathorn Kanno",
  "email": "sankaapb1@gmail.com",
  "address": "22/1 Samphantamit R. Nangrong 31110",
  "tel": "0649453094",
  "status": true
}
```

### Book Service

| Method | URI       | Description    |
| ------ | --------- | -------------- |
| POST   | /book     | Create book    |
| GET    | /book     | Get book       |
| PUT    | /book     | Update book    |
| DELETE | /book/:id | Delete book    |
| GET    | /book/:id | Get book by id |

### POST /book

Request

```json
{
  "name": "สวรรค์ประทานพร ล.7",
  "amount": 10,
  "description": "เซี่ยเหลียน’ สูงส่งเป็นถึงไท่จื่อ ผู้อุทิศตนช่วยเหลือปวงประชา ด้วยวัยเพียงสิบเจ็ดปีก็บรรลุขึ้นสวรรค์เป็นที่จดจำไปทั่วหล้า ทำการสิ่งใดล้วนเก่งกาจปราดเปรื่อง ผู้คนต่างกล่าวว่าเขาเป็นลูกรักของสวรรค์ กระทั่งเกิดเหตุพลิกผัน ทำให้เขาถูกขับออกจากสวรรค์ถึงสองครั้ง เป็นเหตุให้พลังเวทถูกผนึก ต้องลงมาอยู่ในโลกมนุษย์ ชีวิตตกต่ำกลายเป็นที่เย้ยหยันไปทั่วทั้งสามภพ ไร้สาวก ไร้ธูปเทียน ไร้คนเซ่นไหว้บูชา ถูกผู้คนลืมเลือน ต้องหาเลี้ยงชีพด้วยการเก็บขยะ ถูกจดจำว่าเป็นเทพขยะและเทพโรคระบาด ใครต่างก็คิดว่าเขาจะต้องตกต่ำไม่อาจฟื้นคืนสู่สวรรค์ ต้องเข้าสู่ทางสายมารเป็นแน่ แปดร้อยปีต่อมา เขาก็กลับขึ้นสวรรค์อีกเป็นครั้งที่สาม สร้างความสะเทือนเลื่อนลั่นไปทั่ว ทว่าขึ้นสวรรค์ครานี้เขาได้แต่รำพึงรำพัน... เฮ้อ ใครบอกว่าเป็นเทพสบาย เก็บขยะยังง่ายกว่าเป็นเทพนัก เพื่อชดใช้หนี้สวรรค์ เขาจึงรับภารกิจลงไปยังโลกมนุษย์ ทำให้เขาได้มีโอกาสพบกับ ‘ฮวาเฉิง’ หรือพิรุณโลหิตเชยบุปผา ราชาผีผู้ออกมาจากบรรพตถงหลู สาวกคนสุดท้ายและเพียงคนเดียวของเขาตลอดกาล “หากฝันของท่านคือช่วยเหลือปวงประชา เช่นนั้นฝันของข้า ก็คือท่านเพียงผู้เดียว”",
  "categoryId": "d20dbd4a-4d00-40e5-a478-652f728c5eb5"
}
```

Response

```json
{
  "message": "Create book successfully."
}
```

### GET /book

Response

```json
[
  {
    "id": "736b8be2-ace7-4df4-8223-b8bccfc049dd",
    "name": "สวรรค์ประทานพร ล.7",
    "amount": 10,
    "description": "เซี่ยเหลียน’ สูงส่งเป็นถึงไท่จื่อ ผู้อุทิศตนช่วยเหลือปวงประชา ด้วยวัยเพียงสิบเจ็ดปีก็บรรลุขึ้นสวรรค์เป็นที่จดจำไปทั่วหล้า ทำการสิ่งใดล้วนเก่งกาจปราดเปรื่อง ผู้คนต่างกล่าวว่าเขาเป็นลูกรักของสวรรค์ กระทั่งเกิดเหตุพลิกผัน ทำให้เขาถูกขับออกจากสวรรค์ถึงสองครั้ง เป็นเหตุให้พลังเวทถูกผนึก ต้องลงมาอยู่ในโลกมนุษย์ ชีวิตตกต่ำกลายเป็นที่เย้ยหยันไปทั่วทั้งสามภพ ไร้สาวก ไร้ธูปเทียน ไร้คนเซ่นไหว้บูชา ถูกผู้คนลืมเลือน ต้องหาเลี้ยงชีพด้วยการเก็บขยะ ถูกจดจำว่าเป็นเทพขยะและเทพโรคระบาด ใครต่างก็คิดว่าเขาจะต้องตกต่ำไม่อาจฟื้นคืนสู่สวรรค์ ต้องเข้าสู่ทางสายมารเป็นแน่ แปดร้อยปีต่อมา เขาก็กลับขึ้นสวรรค์อีกเป็นครั้งที่สาม สร้างความสะเทือนเลื่อนลั่นไปทั่ว ทว่าขึ้นสวรรค์ครานี้เขาได้แต่รำพึงรำพัน... เฮ้อ ใครบอกว่าเป็นเทพสบาย เก็บขยะยังง่ายกว่าเป็นเทพนัก เพื่อชดใช้หนี้สวรรค์ เขาจึงรับภารกิจลงไปยังโลกมนุษย์ ทำให้เขาได้มีโอกาสพบกับ ‘ฮวาเฉิง’ หรือพิรุณโลหิตเชยบุปผา ราชาผีผู้ออกมาจากบรรพตถงหลู สาวกคนสุดท้ายและเพียงคนเดียวของเขาตลอดกาล “หากฝันของท่านคือช่วยเหลือปวงประชา เช่นนั้นฝันของข้า ก็คือท่านเพียงผู้เดียว”",
    "categoryId": "d20dbd4a-4d00-40e5-a478-652f728c5eb5",
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "status": 1
  },
  {
    "id": "e7164651-2ab1-4f31-964b-158397786a96",
    "name": "สวรรค์ประทานพร ล.7",
    "amount": 10,
    "description": "เซี่ยเหลียน’ สูงส่งเป็นถึงไท่จื่อ ผู้อุทิศตนช่วยเหลือปวงประชา ด้วยวัยเพียงสิบเจ็ดปีก็บรรลุขึ้นสวรรค์เป็นที่จดจำไปทั่วหล้า ทำการสิ่งใดล้วนเก่งกาจปราดเปรื่อง ผู้คนต่างกล่าวว่าเขาเป็นลูกรักของสวรรค์ กระทั่งเกิดเหตุพลิกผัน ทำให้เขาถูกขับออกจากสวรรค์ถึงสองครั้ง เป็นเหตุให้พลังเวทถูกผนึก ต้องลงมาอยู่ในโลกมนุษย์ ชีวิตตกต่ำกลายเป็นที่เย้ยหยันไปทั่วทั้งสามภพ ไร้สาวก ไร้ธูปเทียน ไร้คนเซ่นไหว้บูชา ถูกผู้คนลืมเลือน ต้องหาเลี้ยงชีพด้วยการเก็บขยะ ถูกจดจำว่าเป็นเทพขยะและเทพโรคระบาด ใครต่างก็คิดว่าเขาจะต้องตกต่ำไม่อาจฟื้นคืนสู่สวรรค์ ต้องเข้าสู่ทางสายมารเป็นแน่ แปดร้อยปีต่อมา เขาก็กลับขึ้นสวรรค์อีกเป็นครั้งที่สาม สร้างความสะเทือนเลื่อนลั่นไปทั่ว ทว่าขึ้นสวรรค์ครานี้เขาได้แต่รำพึงรำพัน... เฮ้อ ใครบอกว่าเป็นเทพสบาย เก็บขยะยังง่ายกว่าเป็นเทพนัก เพื่อชดใช้หนี้สวรรค์ เขาจึงรับภารกิจลงไปยังโลกมนุษย์ ทำให้เขาได้มีโอกาสพบกับ ‘ฮวาเฉิง’ หรือพิรุณโลหิตเชยบุปผา ราชาผีผู้ออกมาจากบรรพตถงหลู สาวกคนสุดท้ายและเพียงคนเดียวของเขาตลอดกาล “หากฝันของท่านคือช่วยเหลือปวงประชา เช่นนั้นฝันของข้า ก็คือท่านเพียงผู้เดียว”",
    "categoryId": "d20dbd4a-4d00-40e5-a478-652f728c5eb5",
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "status": 1
  }
]
```

### PUT /book

Request

```json
{
  "id": "e7164651-2ab1-4f31-964b-158397786a96",
  "name": "สวรรค์ประทานพร ล.7",
  "amount": 10,
  "description": "เซี่ยเหลียน’ สูงส่งเป็นถึงไท่จื่อ ผู้อุทิศตนช่วยเหลือปวงประชา ด้วยวัยเพียงสิบเจ็ดปีก็บรรลุขึ้นสวรรค์เป็นที่จดจำไปทั่วหล้า ทำการสิ่งใดล้วนเก่งกาจปราดเปรื่อง ผู้คนต่างกล่าวว่าเขาเป็นลูกรักของสวรรค์ กระทั่งเกิดเหตุพลิกผัน ทำให้เขาถูกขับออกจากสวรรค์ถึงสองครั้ง เป็นเหตุให้พลังเวทถูกผนึก ต้องลงมาอยู่ในโลกมนุษย์ ชีวิตตกต่ำกลายเป็นที่เย้ยหยันไปทั่วทั้งสามภพ ไร้สาวก ไร้ธูปเทียน ไร้คนเซ่นไหว้บูชา ถูกผู้คนลืมเลือน ต้องหาเลี้ยงชีพด้วยการเก็บขยะ ถูกจดจำว่าเป็นเทพขยะและเทพโรคระบาด ใครต่างก็คิดว่าเขาจะต้องตกต่ำไม่อาจฟื้นคืนสู่สวรรค์ ต้องเข้าสู่ทางสายมารเป็นแน่ แปดร้อยปีต่อมา เขาก็กลับขึ้นสวรรค์อีกเป็นครั้งที่สาม สร้างความสะเทือนเลื่อนลั่นไปทั่ว ทว่าขึ้นสวรรค์ครานี้เขาได้แต่รำพึงรำพัน... เฮ้อ ใครบอกว่าเป็นเทพสบาย เก็บขยะยังง่ายกว่าเป็นเทพนัก เพื่อชดใช้หนี้สวรรค์ เขาจึงรับภารกิจลงไปยังโลกมนุษย์ ทำให้เขาได้มีโอกาสพบกับ ‘ฮวาเฉิง’ หรือพิรุณโลหิตเชยบุปผา ราชาผีผู้ออกมาจากบรรพตถงหลู สาวกคนสุดท้ายและเพียงคนเดียวของเขาตลอดกาล “หากฝันของท่านคือช่วยเหลือปวงประชา เช่นนั้นฝันของข้า ก็คือท่านเพียงผู้เดียว”",
  "categoryId": "d20dbd4a-4d00-40e5-a478-652f728c5eb5",
  "status": 1
}
```

Response

```json
{
  "message": "Update book successfully."
}
```

### DELETE /book/:id

Parameter

- id BookID

Response

```json
{
  "message": "Delete user successfully."
}
```

### GET /book/:id

Parameter

- id BookID

Response

```json
{
  "id": "e7164651-2ab1-4f31-964b-158397786a96",
  "name": "สวรรค์ประทานพร ล.7",
  "amount": 10,
  "description": "เซี่ยเหลียน’ สูงส่งเป็นถึงไท่จื่อ ผู้อุทิศตนช่วยเหลือปวงประชา ด้วยวัยเพียงสิบเจ็ดปีก็บรรลุขึ้นสวรรค์เป็นที่จดจำไปทั่วหล้า ทำการสิ่งใดล้วนเก่งกาจปราดเปรื่อง ผู้คนต่างกล่าวว่าเขาเป็นลูกรักของสวรรค์ กระทั่งเกิดเหตุพลิกผัน ทำให้เขาถูกขับออกจากสวรรค์ถึงสองครั้ง เป็นเหตุให้พลังเวทถูกผนึก ต้องลงมาอยู่ในโลกมนุษย์ ชีวิตตกต่ำกลายเป็นที่เย้ยหยันไปทั่วทั้งสามภพ ไร้สาวก ไร้ธูปเทียน ไร้คนเซ่นไหว้บูชา ถูกผู้คนลืมเลือน ต้องหาเลี้ยงชีพด้วยการเก็บขยะ ถูกจดจำว่าเป็นเทพขยะและเทพโรคระบาด ใครต่างก็คิดว่าเขาจะต้องตกต่ำไม่อาจฟื้นคืนสู่สวรรค์ ต้องเข้าสู่ทางสายมารเป็นแน่ แปดร้อยปีต่อมา เขาก็กลับขึ้นสวรรค์อีกเป็นครั้งที่สาม สร้างความสะเทือนเลื่อนลั่นไปทั่ว ทว่าขึ้นสวรรค์ครานี้เขาได้แต่รำพึงรำพัน... เฮ้อ ใครบอกว่าเป็นเทพสบาย เก็บขยะยังง่ายกว่าเป็นเทพนัก เพื่อชดใช้หนี้สวรรค์ เขาจึงรับภารกิจลงไปยังโลกมนุษย์ ทำให้เขาได้มีโอกาสพบกับ ‘ฮวาเฉิง’ หรือพิรุณโลหิตเชยบุปผา ราชาผีผู้ออกมาจากบรรพตถงหลู สาวกคนสุดท้ายและเพียงคนเดียวของเขาตลอดกาล “หากฝันของท่านคือช่วยเหลือปวงประชา เช่นนั้นฝันของข้า ก็คือท่านเพียงผู้เดียว”",
  "categoryId": "d20dbd4a-4d00-40e5-a478-652f728c5eb5",
  "status": 1
}
```

### Statement Service

| Method | URI            | Description         |
| ------ | -------------- | ------------------- |
| POST   | /statement     | Create statement    |
| GET    | /statement     | Get statement       |
| PUT    | /statement     | Update statement    |
| DELETE | /statement/:id | Delete statement    |
| GET    | /statement/:id | Get statement by id |

### POST /statement

Request

```json
{
  "description": "เช่าหนังสือ สวรรค์ประทานพร ล.7 จำนวน 1 วัน",
  "type": 1,
  "price": 2000
}
```

Response

```json
{
  "message": "Create statement successfully."
}
```

### GET /statement

Response

```json
[
  {
    "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
    "description": "เช่าหนังสือ สวรรค์ประทานพร ล.7 จำนวน 1 วัน",
    "type": 1,
    "price": 2000,
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "status": 1
  },
  {
    "id": "f5a51f42-248e-48a1-a3bb-1d2ed4e67859",
    "description": "เช่าหนังสือ สวรรค์ประทานพร ล.7 จำนวน 1 วัน",
    "type": 1,
    "price": 2000,
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "status": 1
  }
]
```

### PUT /statement

Request

```json
{
  "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
  "description": "เช่าหนังสือ สวรรค์ประทานพร ล.7 จำนวน 1 วัน",
  "type": 1,
  "price": 2000,
  "status": 1
}
```

Response

```json
{
  "message": "Update statement successfully."
}
```

### DELETE /statement/:id

Parameter

- id BookID

Response

```json
{
  "message": "Delete user successfully."
}
```

### GET /statement/:id

Parameter

- id BookID

Response

```json
{
  "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
  "description": "เช่าหนังสือ สวรรค์ประทานพร ล.7 จำนวน 1 วัน",
  "type": 1,
  "price": 2000,
  "createdAt": 1988347734,
  "updateAt": 1233344333,
  "status": 1
}
```

### BookHistory Service

| Method | URI          | Description            |
| ------ | ------------ | ---------------------- |
| GET    | /history     | Get book history       |
| PUT    | /history     | Update book history    |
| DELETE | /history/:id | Delete book history    |
| GET    | /history/:id | Get book history by id |

### GET /history

Response

```json
[
  {
    "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
    "bookId": "736b8be2-ace7-4df4-8223-b8bccfc049dd",
    "duedate": "14/04/1999",
    "price": 2000,
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "day": 5,
    "status": 1
  },
  {
    "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
    "bookId": "736b8be2-ace7-4df4-8223-b8bccfc049dd",
    "duedate": "14/04/1999",
    "price": 2000,
    "createdAt": 1988347734,
    "updateAt": 1233344333,
    "day": 5,
    "status": 1
  }
]
```

### PUT /history

Request

```json
{
  "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
  "bookId": "736b8be2-ace7-4df4-8223-b8bccfc049dd",
  "duedate": "14/04/1999",
  "price": 2000,
  "day": 5,
  "status": 1
}
```

Response

```json
{
  "message": "Update Book History successfully."
}
```

### DELETE /history/:id

Parameter

- id BookID

Response

```json
{
  "message": "Delete Book History successfully."
}
```

### GET /history/:id

Parameter

- id BookID

Response

```json
{
  "id": "8e036ecf-42de-4ee8-b7ae-b2d7e2c995aa",
  "bookId": "736b8be2-ace7-4df4-8223-b8bccfc049dd",
  "duedate": "14/04/1999",
  "price": 2000,
  "createdAt": 1988347734,
  "updateAt": 1233344333,
  "day": 5,
  "status": 1
}
```
